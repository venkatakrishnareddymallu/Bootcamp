!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports):"function"==typeof define&&define.amd?define(["exports"],r):r(e.g1=e.g1||{})}(this,function(e){"use strict";function s(o,u,a,c){return u=u||$("<div>"),a=a||[],c=c||[],"limit"in o||(o.limit=10),o.limit--,$.ajax(o).done(function(e,r,n){if(a.push(o),c.push(e),u.trigger({type:"load",request:o,response:e,xhr:n}),o.chain&&0<o.limit){try{var t=o.chain(e,o,n)}catch(e){u.trigger({type:"error",request:o,xhr:n,exception:e}),console.warn("$.ajaxchain: chain() exception",e)}if($.isPlainObject(t)&&!$.isEmptyObject(t))var i=s($.extend(!0,{},o,t),u,a,c)}i||u.trigger({type:"done",request:a,response:c})}).fail(function(e,r,n){u.trigger({type:"error",request:o,xhr:e}),u.trigger({type:"done",request:a,response:c}),console.warn("$.ajaxchain: ajax error",n)}),u}s.list=function(t){return function(e,r){var n=t.indexOf(r.url)+1;if(n<t.length)return{url:t[n]}}},s.cursor="undefined"==typeof _?function(){throw new Error("ajaxchain.cursor requires lodash")}:function(n,t){return function(e){var r=_.get(e,t);if(r)return _.set({},n,r)}},"undefined"!=typeof jQuery&&jQuery.extend(jQuery,{ajaxchain:s}),e.version="0.16.2",Object.defineProperty(e,"__esModule",{value:!0})});
