!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.g1=e.g1||{})}(this,function(e){"use strict";function s(r,i){var e,t,a=(i=i||{}).selector||this.data("selector")||'script[type="text/html"]';return(e=this,t=a,e.filter(t).add(e.find(t))).each(function(){var t=$(this);if("dispose"===r){var e=t.data(l);return e&&e.remove(),t.trigger({type:"template",templatedata:r,target:e})}var a=t.data(u);if(a)a(r,i);else{var n=t.attr("src");n?$.get(n).done(function(e){d(t,e,r,i)}).fail(function(e){r.xhr=e,d(t,t.html(),r,i)}):d(t,t.html(),r,i)}}),this}var u="template.render",l="template.prev_created";function d(i,d,e,o){var f,p=_.template(d);function t(e,t){d=p(e);var a=i.data("append")||(t?t.append:o.append),n=i.data("target")||(t?t.target:o.target),r=i.data("engine")||(t?t.engine:o.engine);return r&&"string"!=typeof r||(r=s.engines[r]||s.engines.default),a?(f=$($.parseHTML(d)),n?$(n).append(f):i.before(f)):(f=r(i,n,d),i.data(l,f)),i.trigger({type:"template",templatedata:e,target:f}),f}return i.data(u,t),t(e)}(s.engines={}).default=s.engines.jquery=function(e,t,a){var n=$($.parseHTML(a));if(t)$(t).html(n);else{var r=e.data(l);r&&r.remove(),e.before(n)}return n},s.engines.vdom=function(e,t,a){var n,r,i;if(t=t||e.data(l)){var d=(n=$(t)).get(0);r="<"+d.nodeName,$.each(d.attributes,function(){r+=" "+this.name+"="+this.value}),r+=">",i="</"+d.nodeName+">"}else r="<div>",i="</div>",n=$(r+i).insertBefore(e);return n.each(function(){morphdom(this,r+a+i)}),n},"undefined"!=typeof jQuery&&jQuery.extend(jQuery.fn,{template:s}),e.version="0.16.2",Object.defineProperty(e,"__esModule",{value:!0})});
